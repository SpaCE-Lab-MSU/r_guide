<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Package Management | R Guide for Spatial Ecology</title>
  <meta name="description" content="Collection of R programming techniques and guidelines for collaborating with the MSU SpaCE lab" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Package Management | R Guide for Spatial Ecology" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Collection of R programming techniques and guidelines for collaborating with the MSU SpaCE lab" />
  <meta name="github-repo" content="space-lab-msu/r_guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Package Management | R Guide for Spatial Ecology" />
  
  <meta name="twitter:description" content="Collection of R programming techniques and guidelines for collaborating with the MSU SpaCE lab" />
  

<meta name="author" content="Patrick Bills, MSU SpaCElab" />
<meta name="author" content="Phoebe Zarnetske, MSU SpaCElab" />


<meta name="date" content="2020-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmarkdown.html"/>
<link rel="next" href="using-r-with-git.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MSU SpaCElab R Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#contributing"><i class="fa fa-check"></i><b>0.1</b> Contributing</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>1</b> Documentation</a></li>
<li class="chapter" data-level="2" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>2</b> Configuration</a>
<ul>
<li class="chapter" data-level="2.1" data-path="configuration.html"><a href="configuration.html#quick-points-on-configuration"><i class="fa fa-check"></i><b>2.1</b> Quick Points on Configuration</a></li>
<li class="chapter" data-level="2.2" data-path="configuration.html"><a href="configuration.html#using-renviron"><i class="fa fa-check"></i><b>2.2</b> Using Renviron</a></li>
<li class="chapter" data-level="2.3" data-path="configuration.html"><a href="configuration.html#file-paths-standard-configuration"><i class="fa fa-check"></i><b>2.3</b> File Paths STandard Configuration</a></li>
<li class="chapter" data-level="2.4" data-path="configuration.html"><a href="configuration.html#r-packages-for-configuration"><i class="fa fa-check"></i><b>2.4</b> R Packages for Configuration</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>3</b> RMarkdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#examples-of-rmarkdown"><i class="fa fa-check"></i><b>3.1</b> Examples of RMarkdown:</a></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-notebooks"><i class="fa fa-check"></i><b>3.2</b> R Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="package-management.html"><a href="package-management.html"><i class="fa fa-check"></i><b>4</b> Package Management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="package-management.html"><a href="package-management.html#getting-started"><i class="fa fa-check"></i><b>4.1</b> Getting Started</a></li>
<li class="chapter" data-level="4.2" data-path="package-management.html"><a href="package-management.html#updating-a-project"><i class="fa fa-check"></i><b>4.2</b> updating a project</a></li>
<li class="chapter" data-level="4.3" data-path="package-management.html"><a href="package-management.html#using-a-project-that-uses-renv"><i class="fa fa-check"></i><b>4.3</b> Using a project that uses <code>renv</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="using-r-with-git.html"><a href="using-r-with-git.html"><i class="fa fa-check"></i><b>5</b> Using R with Git</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Guide for Spatial Ecology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="package-management" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Package Management</h1>
<p>The use renv to manage packages for your scripts. This lets you have different sets of packages for each project, is easy and automatic to use, and creates a file that others can use to know which packages they need to install.</p>
<p>Most scripts require you to install specific packages. Over time these packages are updated, and changes to one or more packages can cause conflicts or incompatibility errors. In addition, you may be working or collaborating on multiple R projects with that use different and conflicting libraries. Using ‘install.packages()’ by default will isntall in your home directory for all projects. Finally, projects shold have a way to efficiently share which packages are needed for it to run.</p>
<p>Package management is the way to deal with these. renv is a new library (Spring 2020 ) and the first to handle it successfully</p>
<p>When starting a new project (or sprucing up and old one) follow the directions on <a href="https://rstudio.github.io/renv/" class="uri">https://rstudio.github.io/renv/</a></p>
<div id="getting-started" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Getting Started</h2>
<p>See the renv doc but in short, in your project main folder</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="package-management.html#cb7-1"></a><span class="kw">install.packages</span>(<span class="st">&#39;renv&#39;</span>) <span class="co"># if you haven&#39;t yet</span></span>
<span id="cb7-2"><a href="package-management.html#cb7-2"></a>renv<span class="op">::</span><span class="kw">init</span>()</span></code></pre></div>
<p>In the <code>.gitignore</code> file add the renv folder (this is where packages are installed for your platform</p>
<pre><code>renv/**</code></pre>
<p>In your README.md, add the code above to let collaborators know how to get the packages they need.</p>
<p>Push the changes into github including the <code>renv.lock</code> file which lists the packages you just installed</p>
</div>
<div id="updating-a-project" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> updating a project</h2>
<p>When you install new packages, because of the .Rprofile settings they will automatically be installed in <code>renv/</code> and the <code>renv.lock</code> file will be updated ( I think - please confirm).</p>
</div>
<div id="using-a-project-that-uses-renv" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Using a project that uses <code>renv</code></h2>
<p>After cloning a project, the process is the same as for new projects:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="package-management.html#cb9-1"></a><span class="kw">install.packages</span>(<span class="st">&#39;renv&#39;</span>) <span class="co"># if you haven&#39;t yet</span></span>
<span id="cb9-2"><a href="package-management.html#cb9-2"></a>renv<span class="op">::</span><span class="kw">init</span>()</span></code></pre></div>
<p>Need to write: how to update renv if a collaborator installs new packages and updates the <code>renv.lock</code> file … <code>renv::init()</code> again?</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rmarkdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-r-with-git.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
